/**
 * Tooltip Styles
 *
 * Lightweight, clean tooltip styling matching the application's design system.
 * Uses CSS custom properties for theming and follows established visual patterns.
 *
 * @module components/common/Tooltip
 */

@use '../../styles/variables' as *;

.tooltip {
  position: relative;
  display: inline-flex;
  align-items: center;
  cursor: help;

  // Tooltip content (shows on hover)
  &::after {
    content: attr(data-tooltip);
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(-8px) scale(0.95);
    padding: $spacing-sm $spacing-md;

    // Matches application surface style
    background: var(--color-surface);
    color: var(--color-text);
    border: 1px solid var(--color-border);
    border-radius: $radius-md;

    // Typography matching design system
    font-size: $font-size-sm;
    font-weight: $font-weight-medium;
    line-height: $line-height-normal;
    white-space: normal;
    max-width: 480px;
    text-align: center;
    text-transform: none;

    pointer-events: none;
    opacity: 0;
    visibility: hidden;

    // Consistent transition timing
    transition:
      opacity $transition-base,
      visibility $transition-base,
      transform $transition-base;

    z-index: $z-tooltip;

    // Subtle shadow matching other components
    box-shadow: 0 4px 12px var(--color-shadow);
  }

  // Tooltip arrow
  &::before {
    content: '';
    position: absolute;
    bottom: 100%;
    left: 50%;
    transform: translateX(-50%) translateY(-1px);

    // Arrow matching surface background
    width: 0;
    height: 0;
    border: 7px solid transparent;
    border-top-color: var(--color-surface);

    pointer-events: none;
    opacity: 0;
    visibility: hidden;

    transition:
      opacity $transition-base,
      visibility $transition-base;

    z-index: calc(#{$z-tooltip} + 1);

    // Subtle shadow on arrow
    filter: drop-shadow(0 1px 2px var(--color-shadow));
  }

  // Show tooltip on hover with smooth animation
  &:hover {
    &::after {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(-8px) scale(1);
    }

    &::before {
      opacity: 1;
      visibility: visible;
    }
  }

  // Allow multi-line tooltips if needed
  &--multiline::after {
    white-space: normal;
    max-width: 480px;
    line-height: $line-height-relaxed;
  }
}
